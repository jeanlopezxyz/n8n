# SonarQube Configuration for n8n Banking Environment

# Project Information
sonar.projectKey=n8n-banking-platform
sonar.projectName=n8n Banking Automation Platform
sonar.projectVersion=1.112.0

# Source Code Configuration
sonar.sources=packages/
sonar.tests=packages/
sonar.test.inclusions=**/*.test.ts,**/*.test.js,**/*.spec.ts,**/*.spec.js,**/test/**/*,**/tests/**/*
sonar.exclusions=**/node_modules/**,**/dist/**,**/build/**,**/coverage/**,**/*.min.js,**/vendor/**,**/third-party/**

# Language Configuration
sonar.javascript.lcov.reportPaths=packages/*/coverage/lcov.info
sonar.typescript.lcov.reportPaths=packages/*/coverage/lcov.info

# Banking Security Standards
sonar.qualitygate.wait=true

# Code Coverage Thresholds (Banking Requirements)
sonar.coverage.exclusions=**/*.test.ts,**/*.test.js,**/*.spec.ts,**/*.spec.js,**/test/**/*,**/tests/**/*,**/*.d.ts
sonar.javascript.exclusions=**/node_modules/**,**/dist/**,**/build/**

# Security Analysis Configuration
sonar.security.hotspots.maxScanSize=2048000

# Duplication Detection
sonar.cpd.exclusions=**/migrations/**,**/seeds/**

# Banking Compliance Quality Gates
sonar.qualitygate.conditions.new_coverage=80
sonar.qualitygate.conditions.new_duplicated_lines_density=3
sonar.qualitygate.conditions.new_maintainability_rating=A
sonar.qualitygate.conditions.new_reliability_rating=A
sonar.qualitygate.conditions.new_security_rating=A

# Security Rules for Banking
sonar.issue.ignore.multicriteria=e1,e2,e3,e4,e5

# Ignore certain rules for specific files
sonar.issue.ignore.multicriteria.e1.ruleKey=typescript:S1186
sonar.issue.ignore.multicriteria.e1.resourceKey=**/*.d.ts

# Ignore TODO comments in development files
sonar.issue.ignore.multicriteria.e2.ruleKey=typescript:S1135
sonar.issue.ignore.multicriteria.e2.resourceKey=**/dev/**/*

# Ignore console.log in development and test files
sonar.issue.ignore.multicriteria.e3.ruleKey=typescript:S2228
sonar.issue.ignore.multicriteria.e3.resourceKey=**/test/**/*,**/dev/**/*

# Banking-specific rule configurations
sonar.issue.ignore.multicriteria.e4.ruleKey=typescript:S3776
sonar.issue.ignore.multicriteria.e4.resourceKey=**/migrations/**/*

# Ignore complexity in generated files
sonar.issue.ignore.multicriteria.e5.ruleKey=typescript:S138
sonar.issue.ignore.multicriteria.e5.resourceKey=**/generated/**/*

# File Size Limits
sonar.size.limit=1000

# Analysis Parameters
sonar.analysis.mode=publish
sonar.buildString=$BUILD_NUMBER
sonar.links.homepage=https://github.com/n8n-io/n8n
sonar.links.scm=https://github.com/n8n-io/n8n.git
sonar.scm.provider=git

# Banking Environment Specific
sonar.login=$SONAR_TOKEN
sonar.host.url=$SONAR_HOST_URL

# Additional Security Configurations
sonar.security.hotspots.file.extensions=.js,.ts,.jsx,.tsx,.vue
sonar.javascript.node.maxspace=8192